(function(){var M=1;var aD=9;var o=10;var O=8;var w=3;
/*!!
     * Copyright (C) 2015 Pavel Savshenko
     * Copyright (C) 2011 Google Inc.  All rights reserved.
     * Copyright (C) 2007, 2008 Apple Inc.  All rights reserved.
     * Copyright (C) 2008 Matt Lilek <webkit@mattlilek.com>
     * Copyright (C) 2009 Joseph Pecoraro
     *
     * Redistribution and use in source and binary forms, with or without
     * modification, are permitted provided that the following conditions
     * are met:
     *
     * 1.  Redistributions of source code must retain the above copyright
     *     notice, this list of conditions and the following disclaimer.
     * 2.  Redistributions in binary form must reproduce the above copyright
     *     notice, this list of conditions and the following disclaimer in the
     *     documentation and/or other materials provided with the distribution.
     * 3.  Neither the name of Apple Computer, Inc. ("Apple") nor the names of
     *     its contributors may be used to endorse or promote products derived
     *     from this software without specific prior written permission.
     *
     * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS "AS IS" AND ANY
     * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
     * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
     * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY
     * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
     * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
     * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
     * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
     * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
     * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     */
var i={};
i.cssPath=function(aP,aN){if(aP.nodeType!==M){return""}var aM=[];var aL=aP;while(aL){var aO=i._cssPathStep(aL,!!aN,aL===aP);if(!aO){break}aM.push(aO);if(aO.optimized){break}aL=aL.parentNode}aM.reverse();return aM.join(" > ")};i._cssPathStep=function(a0,aS,aZ){if(a0.nodeType!==M){return null}var aY=a0.getAttribute("id");if(aS){if(aY){return new i.DOMNodePathStep(a6(aY),true)}var aM=a0.nodeName.toLowerCase();if(aM==="body"||aM==="head"||aM==="html"){return new i.DOMNodePathStep(a0.nodeName.toLowerCase(),true)}}var aL=a0.nodeName.toLowerCase();if(aY){return new i.DOMNodePathStep(aL.toLowerCase()+a6(aY),true)}var aT=a0.parentNode;if(!aT||aT.nodeType===aD){return new i.DOMNodePathStep(aL.toLowerCase(),true)}function bc(be){var bf=be.getAttribute("class");if(!bf){return[]}return bf.split(/\s+/g).filter(Boolean).map(function(bg){return"$"+bg})}function a6(be){return"#"+bb(be)}function bb(bf){if(a7(bf)){return bf}var be=/^(?:[0-9]|-[0-9-]?)/.test(bf);var bg=bf.length-1;return bf.replace(/./g,function(bi,bh){return((be&&bh===0)||!aN(bi))?aP(bi,bh===bg):bi
})}function aP(bf,be){return"\\"+aX(bf)+(be?"":" ")}function aX(bf){var be=bf.charCodeAt(0).toString(16);if(be.length===1){be="0"+be}return be}function aN(be){if(/[a-zA-Z0-9_\-]/.test(be)){return true}return be.charCodeAt(0)>=160}function a7(be){return/^-?[a-zA-Z_][a-zA-Z0-9_\-]*$/.test(be)}function a2(be){var bg={},bf;for(bf=0;bf<be.length;bf++){bg[be[bf]]=true}return bg}var aV=bc(a0);var aW=false;var a4=false;var a5=-1;var aR=aT.children;for(var a3=0;(a5===-1||!a4)&&a3<aR.length;++a3){var a8=aR[a3];if(a8===a0){a5=a3;continue}if(a4){continue}if(a8.nodeName.toLowerCase()!==aL.toLowerCase()){continue}aW=true;var bd=a2(aV);var aQ=aV.length;if(aQ===0){a4=true;continue}var ba=bc(a8);for(var a1=0;a1<ba.length;++a1){var aO=ba[a1];if(!bd.hasOwnProperty(aO)){continue}delete bd[aO];aQ--;if(!aQ){a4=true;break}}}var aU=aL.toLowerCase();if(aZ&&aL.toLowerCase()==="input"&&a0.getAttribute("type")&&!a0.getAttribute("id")&&!a0.getAttribute("class")){aU+='[type="'+a0.getAttribute("type")+'"]'}if(a4){aU+=":nth-child("+(a5+1)+")"
}else{if(aW){for(var a9=0;a9<aV.length;a9++){aU+="."+bb(aV[a9].substr(1))}}}return new i.DOMNodePathStep(aU,false)};i.DOMNodePathStep=function(aM,aL){this.value=aM;this.optimized=aL||false};i.DOMNodePathStep.prototype={toString:function(){return this.value}}
/*!!
 * Copyright 2011 Google Inc.
 *
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
;var b=function(aO,aL){for(var aN in aL){if(aL.hasOwnProperty(aN)){aO[aN]=aL[aN]}}function aM(){this.constructor=aO}aM.prototype=aL.prototype;aO.prototype=new aM()
};var D;if(typeof WebKitMutationObserver!=="undefined"){D=WebKitMutationObserver}else{if(typeof MutationObserver!=="undefined"){D=MutationObserver}}if(typeof D!=="undefined"&&D){var I=(function(){function aL(){this.nodes=[];this.values=[]}aL.prototype.isIndex=function(aM){return +aM===aM>>>0};aL.prototype.nodeId=function(aM){var aN=aM[aL.ID_PROP];if(!aN){aN=aM[aL.ID_PROP]=aL.nextId_++}return aN};aL.prototype.set=function(aM,aN){var aO=this.nodeId(aM);this.nodes[aO]=aM;this.values[aO]=aN};aL.prototype.get=function(aM){var aN=this.nodeId(aM);return this.values[aN]};aL.prototype.has=function(aM){return this.nodeId(aM) in this.nodes};aL.prototype["delete"]=function(aM){var aN=this.nodeId(aM);delete this.nodes[aN];this.values[aN]=undefined};aL.prototype.keys=function(){var aM=[];for(var aN in this.nodes){if(!this.isIndex(aN)){continue}aM.push(this.nodes[aN])}return aM};aL.ID_PROP="__mutation_summary_node_map_id__";aL.nextId_=1;return aL})();var az;(function(aL){aL[aL.STAYED_OUT=0]="STAYED_OUT";
aL[aL.ENTERED=1]="ENTERED";aL[aL.STAYED_IN=2]="STAYED_IN";aL[aL.REPARENTED=3]="REPARENTED";aL[aL.REORDERED=4]="REORDERED";aL[aL.EXITED=5]="EXITED"})(az||(az={}));function A(aL){return aL===az.ENTERED||aL===az.EXITED}var aa=(function(){function aL(aS,aR,aN,aP,aO,aQ,aM,aT){if(aR===void 0){aR=false}if(aN===void 0){aN=false}if(aP===void 0){aP=false}if(aO===void 0){aO=null}if(aQ===void 0){aQ=false}if(aM===void 0){aM=null}if(aT===void 0){aT=null}this.node=aS;this.childList=aR;this.attributes=aN;this.characterData=aP;this.oldParentNode=aO;this.added=aQ;this.attributeOldValues=aM;this.characterDataOldValue=aT;this.isCaseInsensitive=this.node.nodeType===M&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}aL.prototype.getAttributeOldValue=function(aM){if(!this.attributeOldValues){return undefined}if(this.isCaseInsensitive){aM=aM.toLowerCase()}return this.attributeOldValues[aM]};aL.prototype.getAttributeNamesMutated=function(){var aN=[];if(!this.attributeOldValues){return aN
}for(var aM in this.attributeOldValues){aN.push(aM)}return aN};aL.prototype.attributeMutated=function(aN,aM){this.attributes=true;this.attributeOldValues=this.attributeOldValues||{};if(aN in this.attributeOldValues){return}this.attributeOldValues[aN]=aM};aL.prototype.characterDataMutated=function(aM){if(this.characterData){return}this.characterData=true;this.characterDataOldValue=aM};aL.prototype.removedFromParent=function(aM){this.childList=true;if(this.added||this.oldParentNode){this.added=false}else{this.oldParentNode=aM}};aL.prototype.insertedIntoParent=function(){this.childList=true;this.added=true};aL.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode){return this.oldParentNode}if(this.added){return null}}return this.node.parentNode};return aL})();var am=(function(){function aL(){this.added=new I();this.removed=new I();this.maybeMoved=new I();this.oldPrevious=new I();this.moved=undefined}return aL})();var V=(function(aM){b(aL,aM);function aL(aQ,aO){aM.call(this);
this.rootNode=aQ;this.reachableCache=undefined;this.wasReachableCache=undefined;this.anyParentsChanged=false;this.anyAttributesChanged=false;this.anyCharacterDataChanged=false;for(var aN=0;aN<aO.length;aN++){var aP=aO[aN];switch(aP.type){case"childList":this.anyParentsChanged=true;for(var aR=0;aR<aP.removedNodes.length;aR++){var aS=aP.removedNodes[aR];this.getChange(aS).removedFromParent(aP.target)}for(var aR=0;aR<aP.addedNodes.length;aR++){var aS=aP.addedNodes[aR];this.getChange(aS).insertedIntoParent()}break;case"attributes":this.anyAttributesChanged=true;var aT=this.getChange(aP.target);aT.attributeMutated(aP.attributeName,aP.oldValue);break;case"characterData":this.anyCharacterDataChanged=true;var aT=this.getChange(aP.target);aT.characterDataMutated(aP.oldValue);break}}}aL.prototype.getChange=function(aN){var aO=this.get(aN);if(!aO){aO=new aa(aN);this.set(aN,aO)}return aO};aL.prototype.getOldParent=function(aN){var aO=this.get(aN);return aO?aO.getOldParent():aN.parentNode};aL.prototype.getIsReachable=function(aN){if(aN===this.rootNode){return true
}if(!aN){return false}this.reachableCache=this.reachableCache||new I();var aO=this.reachableCache.get(aN);if(aO===undefined){aO=this.getIsReachable(aN.parentNode);this.reachableCache.set(aN,aO)}return aO};aL.prototype.getWasReachable=function(aN){if(aN===this.rootNode){return true}if(!aN){return false}this.wasReachableCache=this.wasReachableCache||new I();var aO=this.wasReachableCache.get(aN);if(aO===undefined){aO=this.getWasReachable(this.getOldParent(aN));this.wasReachableCache.set(aN,aO)}return aO};aL.prototype.reachabilityChange=function(aN){if(this.getIsReachable(aN)){return this.getWasReachable(aN)?az.STAYED_IN:az.ENTERED}return this.getWasReachable(aN)?az.EXITED:az.STAYED_OUT};return aL})(I);var J=(function(){function aL(aN,aM,aO,aQ,aP){this.rootNode=aN;this.mutations=aM;this.selectors=aO;this.calcReordered=aQ;this.calcOldPreviousSibling=aP;this.treeChanges=new V(aN,aM);this.entered=[];this.exited=[];this.stayedIn=new I();this.visited=new I();this.childListChangeMap=undefined;this.characterDataOnly=undefined;
this.matchCache=undefined;this.processMutations()}aL.prototype.processMutations=function(){if(!this.treeChanges.anyParentsChanged&&!this.treeChanges.anyAttributesChanged){return}var aM=this.treeChanges.keys();for(var aN=0;aN<aM.length;aN++){this.visitNode(aM[aN],undefined)}};aL.prototype.visitNode=function(aP,aN){if(this.visited.has(aP)){return}this.visited.set(aP,true);var aR=this.treeChanges.get(aP);var aO=aN;if((aR&&aR.childList)||aO==undefined){aO=this.treeChanges.reachabilityChange(aP)}if(aO===az.STAYED_OUT){return}this.matchabilityChange(aP);if(aO===az.ENTERED){this.entered.push(aP)}else{if(aO===az.EXITED){this.exited.push(aP);this.ensureHasOldPreviousSiblingIfNeeded(aP)}else{if(aO===az.STAYED_IN){var aM=az.STAYED_IN;if(aR&&aR.childList){if(aR.oldParentNode!==aP.parentNode){aM=az.REPARENTED;this.ensureHasOldPreviousSiblingIfNeeded(aP)}else{if(this.calcReordered&&this.wasReordered(aP)){aM=az.REORDERED}}}this.stayedIn.set(aP,aM)}}}if(aO===az.STAYED_IN){return}for(var aQ=aP.firstChild;
aQ;aQ=aQ.nextSibling){this.visitNode(aQ,aO)}};aL.prototype.ensureHasOldPreviousSiblingIfNeeded=function(aO){if(!this.calcOldPreviousSibling){return}this.processChildlistChanges();var aM=aO.parentNode;var aN=this.treeChanges.get(aO);if(aN&&aN.oldParentNode){aM=aN.oldParentNode}var aP=this.childListChangeMap.get(aM);if(!aP){aP=new am();this.childListChangeMap.set(aM,aP)}if(!aP.oldPrevious.has(aO)){aP.oldPrevious.set(aO,aO.previousSibling)}};aL.prototype.getChanged=function(aO,aQ,aT){this.selectors=aQ;this.characterDataOnly=aT;for(var aP=0;aP<this.entered.length;aP++){var aR=this.entered[aP];var aS=this.matchabilityChange(aR);if(aS===az.ENTERED||aS===az.STAYED_IN){aO.added.push(aR)}}var aM=this.stayedIn.keys();for(var aP=0;aP<aM.length;aP++){var aR=aM[aP];var aS=this.matchabilityChange(aR);if(aS===az.ENTERED){aO.added.push(aR)}else{if(aS===az.EXITED){aO.removed.push(aR)}else{if(aS===az.STAYED_IN&&(aO.reparented||aO.reordered)){var aN=this.stayedIn.get(aR);if(aO.reparented&&aN===az.REPARENTED){aO.reparented.push(aR)
}else{if(aO.reordered&&aN===az.REORDERED){aO.reordered.push(aR)}}}}}}for(var aP=0;aP<this.exited.length;aP++){var aR=this.exited[aP];var aS=this.matchabilityChange(aR);if(aS===az.EXITED||aS===az.STAYED_IN){aO.removed.push(aR)}}};aL.prototype.getOldParentNode=function(aN){var aO=this.treeChanges.get(aN);if(aO&&aO.childList){return aO.oldParentNode?aO.oldParentNode:null}var aM=this.treeChanges.reachabilityChange(aN);if(aM===az.STAYED_OUT||aM===az.ENTERED){throw Error("getOldParentNode requested on invalid node.")}return aN.parentNode};aL.prototype.getOldPreviousSibling=function(aO){var aM=aO.parentNode;var aN=this.treeChanges.get(aO);if(aN&&aN.oldParentNode){aM=aN.oldParentNode}var aP=this.childListChangeMap.get(aM);if(!aP){throw Error("getOldPreviousSibling requested on invalid node.")}return aP.oldPrevious.get(aO)};aL.prototype.getOldAttribute=function(aN,aM){var aP=this.treeChanges.get(aN);if(!aP||!aP.attributes){throw Error("getOldAttribute requested on invalid node.")}var aO=aP.getAttributeOldValue(aM);
if(aO===undefined){throw Error("getOldAttribute requested for unchanged attribute name.")}return aO};aL.prototype.attributeChangedNodes=function(aU){if(!this.treeChanges.anyAttributesChanged){return{}}var aP;var aR;if(aU){aP={};aR={};for(var aV=0;aV<aU.length;aV++){var aW=aU[aV];aP[aW]=true;aR[aW.toLowerCase()]=aW}}var aY={};var aN=this.treeChanges.keys();for(var aV=0;aV<aN.length;aV++){var aQ=aN[aV];var aX=this.treeChanges.get(aQ);if(!aX.attributes){continue}if(az.STAYED_IN!==this.treeChanges.reachabilityChange(aQ)||az.STAYED_IN!==this.matchabilityChange(aQ)){continue}var aT=aQ;var aO=aX.getAttributeNamesMutated();for(var aS=0;aS<aO.length;aS++){var aW=aO[aS];if(aP&&!aP[aW]&&!(aX.isCaseInsensitive&&aR[aW])){continue}var aM=aX.getAttributeOldValue(aW);if(aM===aT.getAttribute(aW)){continue}if(aR&&aX.isCaseInsensitive){aW=aR[aW]}aY[aW]=aY[aW]||[];aY[aW].push(aT)}}return aY};aL.prototype.getOldCharacterData=function(aM){var aN=this.treeChanges.get(aM);if(!aN||!aN.characterData){throw Error("getOldCharacterData requested on invalid node.")
}return aN.characterDataOldValue};aL.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged){return[]}var aN=this.treeChanges.keys();var aM=[];for(var aO=0;aO<aN.length;aO++){var aP=aN[aO];if(az.STAYED_IN!==this.treeChanges.reachabilityChange(aP)){continue}var aQ=this.treeChanges.get(aP);if(!aQ.characterData||aP.textContent==aQ.characterDataOldValue){continue}aM.push(aP)}return aM};aL.prototype.computeMatchabilityChange=function(aN,aP){if(!this.matchCache){this.matchCache=[]}if(!this.matchCache[aN.uid]){this.matchCache[aN.uid]=new I()}var aO=this.matchCache[aN.uid];var aM=aO.get(aP);if(aM===undefined){aM=aN.matchabilityChange(aP,this.treeChanges.get(aP));aO.set(aP,aM)}return aM};aL.prototype.matchabilityChange=function(aQ){var aR=this;if(this.characterDataOnly){switch(aQ.nodeType){case O:case w:return az.STAYED_IN;default:return az.STAYED_OUT}}if(!this.selectors){return az.STAYED_IN}if(aQ.nodeType!==M){return az.STAYED_OUT}var aP=aQ;var aN=this.selectors.map(function(aS){return aR.computeMatchabilityChange(aS,aP)
});var aM=az.STAYED_OUT;var aO=0;while(aM!==az.STAYED_IN&&aO<aN.length){switch(aN[aO]){case az.STAYED_IN:aM=az.STAYED_IN;break;case az.ENTERED:if(aM===az.EXITED){aM=az.STAYED_IN}else{aM=az.ENTERED}break;case az.EXITED:if(aM===az.ENTERED){aM=az.STAYED_IN}else{aM=az.EXITED}break}aO++}return aM};aL.prototype.getChildlistChange=function(aM){var aN=this.childListChangeMap.get(aM);if(!aN){aN=new am();this.childListChangeMap.set(aM,aN)}return aN};aL.prototype.processChildlistChanges=function(){if(this.childListChangeMap){return}this.childListChangeMap=new I();for(var aP=0;aP<this.mutations.length;aP++){var aN=this.mutations[aP];if(aN.type!="childList"){continue}if(this.treeChanges.reachabilityChange(aN.target)!==az.STAYED_IN&&!this.calcOldPreviousSibling){continue}var aS=this.getChildlistChange(aN.target);var aM=aN.previousSibling;function aR(aU,aT){if(!aU||aS.oldPrevious.has(aU)||aS.added.has(aU)||aS.maybeMoved.has(aU)){return}if(aT&&(aS.added.has(aT)||aS.maybeMoved.has(aT))){return}aS.oldPrevious.set(aU,aT)
}for(var aO=0;aO<aN.removedNodes.length;aO++){var aQ=aN.removedNodes[aO];aR(aQ,aM);if(aS.added.has(aQ)){aS.added["delete"](aQ)}else{aS.removed.set(aQ,true);aS.maybeMoved["delete"](aQ)}aM=aQ}aR(aN.nextSibling,aM);for(var aO=0;aO<aN.addedNodes.length;aO++){var aQ=aN.addedNodes[aO];if(aS.removed.has(aQ)){aS.removed["delete"](aQ);aS.maybeMoved.set(aQ,true)}else{aS.added.set(aQ,true)}}}};aL.prototype.wasReordered=function(aN){if(!this.treeChanges.anyParentsChanged){return false}this.processChildlistChanges();var aO=aN.parentNode;var aT=this.treeChanges.get(aN);if(aT&&aT.oldParentNode){aO=aT.oldParentNode}var aR=this.childListChangeMap.get(aO);if(!aR){return false}if(aR.moved){return aR.moved.get(aN)}aR.moved=new I();var aM=new I();function aQ(aW){if(!aW){return false}if(!aR.maybeMoved.has(aW)){return false}var aX=aR.moved.get(aW);if(aX!==undefined){return aX}if(aM.has(aW)){aX=true}else{aM.set(aW,true);aX=aV(aW)!==aU(aW)}if(aM.has(aW)){aM["delete"](aW);aR.moved.set(aW,aX)}else{aX=aR.moved.get(aW)
}return aX}var aS=new I();function aU(aX){var aW=aS.get(aX);if(aW!==undefined){return aW}aW=aR.oldPrevious.get(aX);while(aW&&(aR.removed.has(aW)||aQ(aW))){aW=aU(aW)}if(aW===undefined){aW=aX.previousSibling}aS.set(aX,aW);return aW}var aP=new I();function aV(aX){if(aP.has(aX)){return aP.get(aX)}var aW=aX.previousSibling;while(aW&&(aR.added.has(aW)||aQ(aW))){aW=aW.previousSibling}aP.set(aX,aW);return aW}aR.maybeMoved.keys().forEach(aQ);return aR.moved.get(aN)};return aL})();var ab=(function(){function aL(aM,aP){var aR=this;this.projection=aM;this.added=[];this.removed=[];this.reparented=aP.all||aP.element||aP.characterData?[]:undefined;this.reordered=aP.all?[]:undefined;aM.getChanged(this,aP.elementFilter,aP.characterData);if(aP.all||aP.attribute||aP.attributeList){var aO=aP.attribute?[aP.attribute]:aP.attributeList;var aN=aM.attributeChangedNodes(aO);if(aP.attribute){this.valueChanged=aN[aP.attribute]||[]}else{this.attributeChanged=aN;if(aP.attributeList){aP.attributeList.forEach(function(aS){if(!aR.attributeChanged.hasOwnProperty(aS)){aR.attributeChanged[aS]=[]
}})}}}if(aP.all||aP.characterData){var aQ=aM.getCharacterDataChanged();if(aP.characterData){this.valueChanged=aQ}else{this.characterDataChanged=aQ}}if(this.reordered){this.getOldPreviousSibling=aM.getOldPreviousSibling.bind(aM)}}aL.prototype.getOldParentNode=function(aM){return this.projection.getOldParentNode(aM)};aL.prototype.getOldAttribute=function(aN,aM){return this.projection.getOldAttribute(aN,aM)};aL.prototype.getOldCharacterData=function(aM){return this.projection.getOldCharacterData(aM)};aL.prototype.getOldPreviousSibling=function(aM){return this.projection.getOldPreviousSibling(aM)};return aL})();var ao=/[a-zA-Z_]+/;var au=/[a-zA-Z0-9_\-]+/;function Q(aL){return'"'+aL.replace(/"/,'\\"')+'"'}var an=(function(){function aL(){}aL.prototype.matches=function(aM){if(aM===null){return false}if(this.attrValue===undefined){return true}if(!this.contains){return this.attrValue==aM}var aO=aM.split(" ");for(var aN=0;aN<aO.length;aN++){if(this.attrValue===aO[aN]){return true}}return false};
aL.prototype.toString=function(){if(this.attrName==="class"&&this.contains){return"."+this.attrValue}if(this.attrName==="id"&&!this.contains){return"#"+this.attrValue}if(this.contains){return"["+this.attrName+"~="+Q(this.attrValue)+"]"}if("attrValue" in this){return"["+this.attrName+"="+Q(this.attrValue)+"]"}return"["+this.attrName+"]"};return aL})();var aC=(function(){function aL(){this.uid=aL.nextUid++;this.qualifiers=[]}Object.defineProperty(aL.prototype,"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:true,configurable:true});Object.defineProperty(aL.prototype,"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:true,configurable:true});aL.prototype.isMatching=function(aM){return aM[aL.matchesSelector](this.selectorString)};aL.prototype.wasMatching=function(aO,aU,aR){if(!aU||!aU.attributes){return aR}var aP=aU.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if(aP!=="*"&&aP!==aO.tagName){return false
}var aN=[];var aS=false;for(var aQ=0;aQ<this.qualifiers.length;aQ++){var aT=this.qualifiers[aQ];var aM=aU.getAttributeOldValue(aT.attrName);aN.push(aM);aS=aS||(aM!==undefined)}if(!aS){return aR}for(var aQ=0;aQ<this.qualifiers.length;aQ++){var aT=this.qualifiers[aQ];var aM=aN[aQ];if(aM===undefined){aM=aO.getAttribute(aT.attrName)}if(!aT.matches(aM)){return false}}return true};aL.prototype.matchabilityChange=function(aM,aO){var aN=this.isMatching(aM);if(aN){return this.wasMatching(aM,aO,aN)?az.STAYED_IN:az.ENTERED}else{return this.wasMatching(aM,aO,aN)?az.EXITED:az.STAYED_OUT}};aL.parseSelectors=function(aZ){var aR=[];var aT;var aV;function aX(){if(aT){if(aV){aT.qualifiers.push(aV);aV=undefined}aR.push(aT)}aT=new aL()}function aW(){if(aV){aT.qualifiers.push(aV)}aV=new an()}var bb=/\s/;var aM;var aN="Invalid or unsupported selector syntax.";var aU=1;var a4=2;var aY=3;var a5=4;var a9=5;var a2=6;var aO=7;var a7=8;var aP=9;var a3=10;var ba=11;var aS=12;var a1=13;var a0=14;var aQ=aU;var a6=0;while(a6<aZ.length){var a8=aZ[a6++];
switch(aQ){case aU:if(a8.match(ao)){aX();aT.tagName=a8;aQ=a4;break}if(a8=="*"){aX();aT.tagName="*";aQ=aY;break}if(a8=="."){aX();aW();aT.tagName="*";aV.attrName="class";aV.contains=true;aQ=a5;break}if(a8=="#"){aX();aW();aT.tagName="*";aV.attrName="id";aQ=a5;break}if(a8=="["){aX();aW();aT.tagName="*";aV.attrName="";aQ=a2;break}if(a8.match(bb)){break}throw Error(aN);case a4:if(a8.match(au)){aT.tagName+=a8;break}if(a8=="."){aW();aV.attrName="class";aV.contains=true;aQ=a5;break}if(a8=="#"){aW();aV.attrName="id";aQ=a5;break}if(a8=="["){aW();aV.attrName="";aQ=a2;break}if(a8.match(bb)){aQ=a0;break}if(a8==","){aQ=aU;break}throw Error(aN);case aY:if(a8=="."){aW();aV.attrName="class";aV.contains=true;aQ=a5;break}if(a8=="#"){aW();aV.attrName="id";aQ=a5;break}if(a8=="["){aW();aV.attrName="";aQ=a2;break}if(a8.match(bb)){aQ=a0;break}if(a8==","){aQ=aU;break}throw Error(aN);case a5:if(a8.match(ao)){aV.attrValue=a8;aQ=a9;break}throw Error(aN);case a9:if(a8.match(au)){aV.attrValue+=a8;break}if(a8=="."){aW();
aV.attrName="class";aV.contains=true;aQ=a5;break}if(a8=="#"){aW();aV.attrName="id";aQ=a5;break}if(a8=="["){aW();aQ=a2;break}if(a8.match(bb)){aQ=a0;break}if(a8==","){aQ=aU;break}throw Error(aN);case a2:if(a8.match(ao)){aV.attrName=a8;aQ=aO;break}if(a8.match(bb)){break}throw Error(aN);case aO:if(a8.match(au)){aV.attrName+=a8;break}if(a8.match(bb)){aQ=a7;break}if(a8=="~"){aV.contains=true;aQ=aP;break}if(a8=="="){aV.attrValue="";aQ=ba;break}if(a8=="]"){aQ=aY;break}throw Error(aN);case a7:if(a8=="~"){aV.contains=true;aQ=aP;break}if(a8=="="){aV.attrValue="";aQ=ba;break}if(a8=="]"){aQ=aY;break}if(a8.match(bb)){break}throw Error(aN);case aP:if(a8=="="){aV.attrValue="";aQ=ba;break}throw Error(aN);case a3:if(a8=="]"){aQ=aY;break}if(a8.match(bb)){break}throw Error(aN);case ba:if(a8.match(bb)){break}if(a8=='"'||a8=="'"){aM=a8;aQ=a1;break}aV.attrValue+=a8;aQ=aS;break;case aS:if(a8.match(bb)){aQ=a3;break}if(a8=="]"){aQ=aY;break}if(a8=="'"||a8=='"'){throw Error(aN)}aV.attrValue+=a8;break;case a1:if(a8==aM){aQ=a3;
break}aV.attrValue+=a8;break;case a0:if(a8.match(bb)){break}if(a8==","){aQ=aU;break}throw Error(aN)}}switch(aQ){case aU:case a4:case aY:case a9:case a0:aX();break;default:throw Error(aN)}if(!aR.length){throw Error(aN)}return aR};aL.nextUid=1;aL.matchesSelector=(function(){var aM=document.createElement("div");if(typeof aM.webkitMatchesSelector==="function"){return"webkitMatchesSelector"}if(typeof aM.mozMatchesSelector==="function"){return"mozMatchesSelector"}if(typeof aM.msMatchesSelector==="function"){return"msMatchesSelector"}return"matchesSelector"})();return aL})();var m=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;function j(aL){if(typeof aL!="string"){throw Error("Invalid request opion. attribute must be a non-zero length string.")}aL=aL.trim();if(!aL){throw Error("Invalid request opion. attribute must be a non-zero length string.")}if(!aL.match(m)){throw Error("Invalid request option. invalid attribute name: "+aL)}return aL}function aw(aR){if(!aR.trim().length){throw Error("Invalid request option: elementAttributes must contain at least one attribute.")
}var aQ={};var aL={};var aP=aR.split(/\s+/);for(var aN=0;aN<aP.length;aN++){var aM=aP[aN];if(!aM){continue}var aM=j(aM);var aO=aM.toLowerCase();if(aQ[aO]){throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.")}aL[aM]=true;aQ[aO]=true}return Object.keys(aL)}function W(aM){var aL={};aM.forEach(function(aN){aN.qualifiers.forEach(function(aO){aL[aO.attrName]=true})});return Object.keys(aL)}var d=(function(){function aL(aM){var aN=this;this.connected=false;this.options=aL.validateOptions(aM);this.observerOptions=aL.createObserverOptions(this.options.queries);this.root=this.options.rootNode;this.callback=this.options.callback;this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(aO){return aO.elementFilter?aO.elementFilter:[]}));if(!this.elementFilter.length){this.elementFilter=undefined}this.calcReordered=this.options.queries.some(function(aO){return aO.all});this.queryValidators=[];if(aL.createQueryValidator){this.queryValidators=this.options.queries.map(function(aO){return aL.createQueryValidator(aN.root,aO)
})}this.observer=new D(function(aO){aN.observerCallback(aO)});this.reconnect()}aL.createObserverOptions=function(aN){var aP={childList:true,subtree:true};var aM;function aO(aQ){if(aP.attributes&&!aM){return}aP.attributes=true;aP.attributeOldValue=true;if(!aQ){aM=undefined;return}aM=aM||{};aQ.forEach(function(aR){aM[aR]=true;aM[aR.toLowerCase()]=true})}aN.forEach(function(aR){if(aR.characterData){aP.characterData=true;aP.characterDataOldValue=true;return}if(aR.all){aO();aP.characterData=true;aP.characterDataOldValue=true;return}if(aR.attribute){aO([aR.attribute.trim()]);return}var aQ=W(aR.elementFilter).concat(aR.attributeList||[]);if(aQ.length){aO(aQ)}});if(aM){aP.attributeFilter=Object.keys(aM)}return aP};aL.validateOptions=function(aM){for(var aS in aM){if(!(aS in aL.optionKeys)){throw Error("Invalid option: "+aS)}}if(typeof aM.callback!=="function"){throw Error("Invalid options: callback is required and must be a function")}if(!aM.queries||!aM.queries.length){throw Error("Invalid options: queries must contain at least one query request object.")
}var aQ={callback:aM.callback,rootNode:aM.rootNode||document,observeOwnChanges:!!aM.observeOwnChanges,oldPreviousSibling:!!aM.oldPreviousSibling,queries:[]};for(var aN=0;aN<aM.queries.length;aN++){var aP=aM.queries[aN];if(aP.all){if(Object.keys(aP).length>1){throw Error("Invalid request option. all has no options.")}aQ.queries.push({all:true});continue}if("attribute" in aP){var aR={attribute:j(aP.attribute)};aR.elementFilter=aC.parseSelectors("*["+aR.attribute+"]");if(Object.keys(aP).length>1){throw Error("Invalid request option. attribute has no options.")}aQ.queries.push(aR);continue}if("element" in aP){var aO=Object.keys(aP).length;var aR={element:aP.element,elementFilter:aC.parseSelectors(aP.element)};if(aP.hasOwnProperty("elementAttributes")){aR.attributeList=aw(aP.elementAttributes);aO--}if(aO>1){throw Error("Invalid request option. element only allows elementAttributes option.")}aQ.queries.push(aR);continue}if(aP.characterData){if(Object.keys(aP).length>1){throw Error("Invalid request option. characterData has no options.")
}aQ.queries.push({characterData:true});continue}throw Error("Invalid request option. Unknown query request.")}return aQ};aL.prototype.createSummaries=function(aN){if(!aN||!aN.length){return[]}var aM=new J(this.root,aN,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling);var aP=[];for(var aO=0;aO<this.options.queries.length;aO++){aP.push(new ab(aM,this.options.queries[aO]))}return aP};aL.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(aM){if(aM){aM.recordPreviousState()}})};aL.prototype.runQueryValidators=function(aM){this.queryValidators.forEach(function(aO,aN){if(aO){aO.validate(aM[aN])}})};aL.prototype.changesToReport=function(aM){return aM.some(function(aN){var aQ=["added","removed","reordered","reparented","valueChanged","characterDataChanged"];if(aQ.some(function(aR){return aN[aR]&&aN[aR].length})){return true}if(aN.attributeChanged){var aP=Object.keys(aN.attributeChanged);var aO=aP.some(function(aR){return !!aN.attributeChanged[aR].length
});if(aO){return true}}return false})};aL.prototype.observerCallback=function(aM){if(!this.options.observeOwnChanges){this.observer.disconnect()}var aN=this.createSummaries(aM);this.runQueryValidators(aN);if(this.options.observeOwnChanges){this.checkpointQueryValidators()}if(this.changesToReport(aN)){this.callback(aN)}if(!this.options.observeOwnChanges&&this.connected){this.checkpointQueryValidators();this.observer.observe(this.root,this.observerOptions)}};aL.prototype.reconnect=function(){if(this.connected){throw Error("Already connected")}this.observer.observe(this.root,this.observerOptions);this.connected=true;this.checkpointQueryValidators()};aL.prototype.takeSummaries=function(){if(!this.connected){throw Error("Not connected")}var aM=this.createSummaries(this.observer.takeRecords());return this.changesToReport(aM)?aM:undefined};aL.prototype.disconnect=function(){var aM=this.takeSummaries();this.observer.disconnect();this.connected=false;return aM};aL.NodeMap=I;aL.parseElementFilter=aC.parseSelectors;
aL.optionKeys={callback:true,queries:true,rootNode:true,oldPreviousSibling:true,observeOwnChanges:true};return aL})();var y=(function(){function aL(aR,aS,aM){var aQ=this;this.target=aR;this.mirror=aS;this.nextId=1;this.knownNodes=new d.NodeMap();var aT=this.serializeNode(aR).id;var aO=[];for(var aN=aR.firstChild;aN;aN=aN.nextSibling){aO.push(this.serializeNode(aN,true))}this.mirror.initialize(aT,aO);var aU=this;var aP=[{all:true}];if(aM){aP=aP.concat(aM)}this.mutationSummary=new d({rootNode:aR,callback:function(aV){aQ.applyChanged(aV)},queries:aP})}aL.prototype.disconnect=function(){if(this.mutationSummary){this.mutationSummary.disconnect();this.mutationSummary=undefined}};aL.prototype.rememberNode=function(aM){var aN=this.nextId++;this.knownNodes.set(aM,aN);return aN};aL.prototype.forgetNode=function(aM){this.knownNodes["delete"](aM)};aL.prototype.serializeNode=function(aO,aP,a0,aV){if(aO===null){return null}var aM=this.knownNodes.get(aO);if(aM!==undefined){return{id:aM}}var aZ=(aM&&aM.parentNode)?aM.parentNode:null;
var aR={nodeType:aO.nodeType,id:this.rememberNode(aO)};if(!a0&&aJ.shouldMaskField(aO,false)){a0=true}if(!aV&&aJ.shouldMaskContent(aO,false)){aV=true}while(aZ&&!a0&&!aV){if(!a0&&aJ.shouldMaskField(aZ,false)){a0=true}if(!aV&&aJ.shouldMaskContent(aZ,false)){aV=true}aZ=aZ.parentNode?aZ.parentNode:null}switch(aR.nodeType){case o:var aU=aO;aR.name=aU.name;aR.publicId=aU.publicId;aR.systemId=aU.systemId;break;case O:aR.textContent=" ";break;case w:if("undefined"!==typeof aO.parentNode&&aO.parentNode&&aO.parentNode.tagName==="TEXTAREA"&&(!aE||a0||aJ.shouldMaskField(aO,false))){aR.textContent=ar.trim(aO.textContent).replace(/./g,"*")}else{if(aV||aJ.shouldMaskContent(aO,false)){aR.textContent=ar.trim(aO.textContent).replace(/./g,"*")}else{aR.textContent=aO.textContent}}break;case M:aR.tagName=aO.tagName;aR.attributes={};if("SCRIPT"===aR.tagName||"NOSCRIPT"===aR.tagName){break}var aS;for(var aQ=0;aQ<aO.attributes.length;aQ++){var aT=aO.attributes[aQ];if(aT&&"value" in aT){aS=aT.value}else{aS=""}if(aT.name==="value"&&aR.tagName==="INPUT"&&aO.value&&(!aO.type||String(aO.type).toLowerCase()==="text")){aS=aO.value
}if("INPUT"===aR.tagName&&aO.type&&aO.type==="hidden"&&"value"===aT.name){aR.attributes[aT.name]=""}else{if("INPUT"===aR.tagName&&"value"===aT.name&&(!aE||a0||aJ.shouldMaskField(aO,false))){aR.attributes[aT.name]=aS.replace(/./g,"*")}else{if(("title"===aT.name||"alt"===aT.name||"label"===aT.name||"placeholder"===aT.name)&&(aV||aJ.shouldMaskContent(aO,false))){aR.attributes[aT.name]=aS.replace(/./g,"*")}else{aR.attributes[aT.name]=aS}}}}if("IFRAME"===aR.tagName&&(aO.scrollWidth<=1||aO.scrollHeight<=1)){aR.attributes.src="about:blank"}else{if("META"===aR.tagName){if(aR.attributes.property&&String(aR.attributes.property).indexOf("og:")>=0){aR.attributes={}}else{if(aR.attributes.name){var aY=String(aR.attributes.name).toLowerCase();if(aY.indexOf("twitter:")>=0||aY.indexOf("description")>=0||aY.indexOf("keywords")>=0){aR.attributes={}}}}}else{if("LINK"===aR.tagName&&aR.attributes.rel){var aX=String(aR.attributes.rel).toLowerCase();var aW=["icon","preload","preconnect","dns-prefetch","next","prev","alternate","search"];
if(aW.indexOf(aX)>=0){aR.attributes={}}}}}if(aP&&aO.childNodes.length){aR.childNodes=[];for(var aN=aO.firstChild;aN;aN=aN.nextSibling){aR.childNodes.push(this.serializeNode(aN,true,a0,aV))}}break}return aR};aL.prototype.serializeAddedAndMoved=function(aP,aM,aQ){var aS=this;var aO=aP.concat(aM).concat(aQ);var aR=new d.NodeMap();aO.forEach(function(aV){var aU=aV.parentNode;var aT=aR.get(aU);if(!aT){aT=new d.NodeMap();aR.set(aU,aT)}aT.set(aV,true)});var aN=[];aR.keys().forEach(function(aU){var aT=aR.get(aU);var aW=aT.keys();while(aW.length){var aV=aW[0];while(aV.previousSibling&&aT.has(aV.previousSibling)){aV=aV.previousSibling}while(aV&&aT.has(aV)){var aX=aS.serializeNode(aV);aX.previousSibling=aS.serializeNode(aV.previousSibling);aX.parentNode=aS.serializeNode(aV.parentNode);aN.push(aX);aT["delete"](aV);aV=aV.nextSibling}var aW=aT.keys()}});return aN};aL.prototype.serializeAttributeChanges=function(aM){var aO=this;var aN=new d.NodeMap();Object.keys(aM).forEach(function(aP){aM[aP].forEach(function(aR){var aQ=aN.get(aR);
if(!aQ){aQ=aO.serializeNode(aR);aQ.attributes={};aN.set(aR,aQ)}aQ.attributes[aP]=aR.getAttribute(aP)})});return aN.keys().map(function(aP){return aN.get(aP)})};aL.prototype.applyChanged=function(aP){var aS=this;var aN=aP[0];var aQ=aN.removed.map(function(aT){return aS.serializeNode(aT)});var aO=this.serializeAddedAndMoved(aN.added,aN.reparented,aN.reordered);var aM=this.serializeAttributeChanges(aN.attributeChanged);var aR=aN.characterDataChanged.map(function(aT){var aU=aS.serializeNode(aT);aU.textContent=aT.textContent;return aU});this.mirror.applyChanged(aQ,aO,aM,aR);aN.removed.forEach(function(aT){aS.forgetNode(aT)})};return aL})();
/*!!
     * Copyright (C) InnoCraft Ltd - All rights reserved.
     *
     * All information contained herein is, and remains the property of InnoCraft Ltd.
     *
     * @link https://www.innocraft.com/
     * @license For license details see https://www.innocraft.com/license
     */
}var N=document;var H=window;var E=0;var l=false;var K=!u();var n=null;var aq=false;
var ac="";var S=false;var g=15*60*1000;var Z=30*60*1000;var R=10;var at=(5*60*1000);var ax=2000;var B=1000;var G=100;var X=500;var F=false;function u(){if("object"!==typeof JSON){return true}if("function"!==typeof Array.prototype.map||"function"!==typeof Array.prototype.filter||"function"!==typeof Array.prototype.indexOf){return true}if("function"!==typeof Element.prototype.getBoundingClientRect){return true}var aL=["cc.bingj.com"];if(aL.indexOf(N.domain)!==-1||String(N.domain).indexOf(".googleusercontent.com")!==-1){return true}var aN=/alexa|baidu|bing|bot|crawler|curl|crawling|duckduckgo|facebookexternalhit|feedburner|googlebot|google web preview|linkdex|nagios|postrank|pingdom|robot|slurp|spider|yahoo!|yandex|wget/i.test(navigator.userAgent);if(aN){return true}var aM=String(N.referrer);if(aM&&aM.indexOf("module=Overlay&action=startOverlaySession")>=0){return true}return false}function T(){if(l&&"object"===typeof console){if(typeof console.debug==="function"){console.debug.apply(console,arguments)
}else{if(typeof console.log==="function"){console.log.apply(console,arguments)}}}}var C=function(){return true};var s=1;var aF=2;var h=3;var U=4;var aG=5;var af=6;var a=7;var k=8;var e=9;var ap=10;var p=11;var av=12;var aA=0;var ad=1;var c=2;var aE=true;var P=false;var al=false;var aK=true;var L=null;var ae={};if("object"===typeof JSON){ae=JSON}var ai=false;var ak=[];var aH={hasObserver:function(){if(typeof WebKitMutationObserver!=="undefined"){return true}else{if(typeof MutationObserver!=="undefined"){return true}}return false}};var ah=aH.hasObserver();var r={getScrollLeft:function(){return H.document.body.scrollLeft||H.document.documentElement.scrollLeft},getScrollTop:function(){return H.document.body.scrollTop||H.document.documentElement.scrollTop},getDocumentHeight:function(){return Math.max(N.body.offsetHeight,N.body.scrollHeight,N.documentElement.offsetHeight,N.documentElement.clientHeight,N.documentElement.scrollHeight,1)},getDocumentWidth:function(){return Math.max(N.body.offsetWidth,N.body.scrollWidth,N.documentElement.offsetWidth,N.documentElement.clientWidth,N.documentElement.scrollWidth,1)
},getWindowSize:function(){var aL=H.innerHeight||N.documentElement.clientHeight||N.body.clientHeight;var aM=H.innerWidth||N.documentElement.clientWidth||N.body.clientWidth;return{width:aM,height:aL}}};var t={namespace:"hsr",set:function(aN,aR,aP){aR=parseInt(aR,10);aP=parseInt(aP,10);var aQ="";var aM=t.getHsrConfigs(aN);var aO=false;for(var aL=0;aL<aM.length;aL++){if(aM[aL]&&aM[aL].id===aR){aO=true;aM[aL].value=aP}aQ+=aM[aL].id+"."+aM[aL].value+"_"}if(!aO){aQ+=aR+"."+aP}aN.setSessionCookie(this.namespace,aQ)},get:function(aN,aO){aO=parseInt(aO,10);var aM=t.getHsrConfigs(aN);for(var aL=0;aL<aM.length;aL++){if(aM[aL]&&aM[aL].id===aO){return aM[aL].value}}return null},getHsrConfigs:function(aO){var aP=aO.getCookie(this.namespace);if(!aP){return[]}var aN=[];var aQ=String(aP).split("_"),aL;for(var aM=0;aM<aQ.length;aM++){aL=aQ[aM].split(".");if(aL&&aL.length===2){aN.push({id:parseInt(aL[0],10),value:parseInt(aL[1],10)})}}return aN}};var aJ={getAttribute:function(aM,aL){if(aM&&aM.getAttribute&&aL){return aM.getAttribute(aL)
}return null},hasAttribute:function(aM,aL){if(aM&&aM.hasAttribute){return aM.hasAttribute(aL)}if(aM&&aM.attributes){var aN=(typeof aM.attributes[aL]);return aN!=="undefined"}return false},getTagName:function(aL){if(aL&&aL.tagName){return(""+aL.tagName).toLowerCase()}return null},getCssClasses:function(aM){if(aM&&aM.className){var aL=typeof aM.className==="string"?ar.trim(aM.className).split(/\s+/):[];return aL}return[]},getHeight:function(aL){if(aL&&(aL.nodeType===9||aL.tagName==="HTML")){return r.getDocumentHeight()}if(aL===window){return N.documentElement.clientHeight}return Math.max(aL.scrollHeight,aL.offsetHeight,0)},getWidth:function(aL){if(aL&&(aL.nodeType===9||aL.tagName==="HTML")){return r.getDocumentWidth()}if(aL===window){return N.documentElement.clientWidth}return Math.max(aL.scrollWidth,aL.offsetWidth,0)},getOffset:function(aM){if(!aM.getBoundingClientRect){return}var aL=(aM&&aM.ownerDocument).documentElement;var aN=aM.getBoundingClientRect();return{top:Math.floor(aN.top)+(H.pageYOffset||N.scrollTop||0)-(aL.clientTop||0),left:Math.floor(aN.left)+(H.pageXOffset||N.scrollLeft||0)-(aL.clientLeft||0),width:Math.max(aN.width,aJ.getWidth(aM)),height:Math.max(aN.height,aJ.getHeight(aM))}
},getSelector:function(aM,aL){return i.cssPath(aM,false)},shouldMaskField:function(aQ,aP){if(!aQ){return false}var aM=aJ.getAttribute(aQ,"name");var aL=aJ.getAttribute(aQ,"autocomplete");if(aJ.hasAttribute(aQ,"data-piwik-mask")||aJ.hasAttribute(aQ,"data-matomo-mask")||aJ.getAttribute(aQ,"type")==="password"||aM==="credit-card-number"||aM==="cvv"||aM==="cvc"||aM==="ccname"||aM==="cc-name"||aM==="cardnumber"||aM==="cc-number"||aM==="password"||aJ.getAttribute(aQ,"id")==="cvv"||aL==="cc-csc"||aL==="cc-name"||aL==="cc-number"){return true}if(aQ&&aQ.value){var aO=aJ.getAttribute(aQ,"type");if(!aO||String(aO).toLowerCase()==="text"){if(/^\d{12,21}$/.test(String(aQ.value))){return true}}}if(aP){var aN=aQ.parentNode?aQ.parentNode:null;while(aN){if(aJ.hasAttribute(aN,"data-piwik-mask")||aJ.hasAttribute(aN,"data-matomo-mask")){return true}else{aN=aN.parentNode?aN.parentNode:null}}}return false},shouldMaskContent:function(aN,aM){if(!aN){return false}if(aN.tagName&&aN.tagName!=="FORM"&&aJ.hasAttribute(aN,"data-matomo-mask")){return true
}if(aM){var aL=aN.parentNode?aN.parentNode:null;while(aL){if(aL.tagName!=="FORM"&&aJ.hasAttribute(aL,"data-matomo-mask")){return true}else{aL=aL.parentNode?aL.parentNode:null}}}return false}};var ar={isArray:function(aL){return typeof aL==="object"&&aL!==null&&typeof aL.length==="number"},getCurrentTime:function(){return new Date().getTime()},getTimeSincePageReady:function(){if(!E){return 0}return(new Date().getTime())-E},roundTimeToSeconds:function(aL){return Math.round(aL/1000)},getRandomInt:function(aM,aL){return Math.round(Math.random()*(aL-aM)+aM)},isNumber:function(aL){return !isNaN(aL)},trim:function(aL){if(aL&&String(aL)===aL){return aL.replace(/^\s+|\s+$/g,"")}return aL},generateUniqueId:function(){var aO="";var aM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var aN=aM.length;for(var aL=0;aL<6;aL++){aO+=aM.charAt(Math.floor(Math.random()*aN))}return aO}};function f(aL){return location.href&&location.href.indexOf(aL)>0}function x(){return f("pk_hsr_forcesample=1")||f("pk_hsr_capturescreen=1")
}function v(){return f("pk_hsr_forcesample=0")}function Y(aL){if(x()){return true}if(v()){return false}if(aL>=100){return true}if(aL<=0){return false}if(aL>=1){return aL>=ar.getRandomInt(1,G)}return(aL*10)>=ar.getRandomInt(1,G*10)}function q(aL){if("undefined"!==typeof aL.HeatmapSessionRecording){return}aL.HeatmapSessionRecording={myId:ar.generateUniqueId(),hasReceivedConfig:false,hasTrackedData:false,hasSentStopTrackingEvent:false,enabled:true,hsrIdsToGetDOM:[],disable:function(){this.enabled=false},enable:function(){this.enabled=true},isEnabled:function(){return K&&this.enabled},numSentTrackingRequests:0,Heatmap:{data:[],hsrids:[],configs:[],addConfig:function(aM){if("object"!==typeof aM||!aM.id){return}aM.id=parseInt(aM.id,10);this.configs.push(aM);if("undefined"===typeof aM.sample_rate){aM.sample_rate=G}else{aM.sample_rate=Math.min(parseFloat(aM.sample_rate),G)}if(aM.id&&Y(aM.sample_rate)&&C(aM)){this.addHsrId(aM.id);if(aM.getdom||f("pk_hsr_capturescreen=1")){aL.HeatmapSessionRecording.hsrIdsToGetDOM.push(aM.id)
}}},addHsrId:function(aM){this.hsrids.push(aM);if(aL.HeatmapSessionRecording.hasTrackedData){z.recordData(ad,{ty:a,id:aM})}}},Both:{data:[]},Session:{data:[],hsrids:[],configs:[],addConfig:function(aO){if("object"!==typeof aO||!aO.id){return}aO.id=parseInt(aO.id,10);if("undefined"===typeof aO.sample_rate){aO.sample_rate=G}else{aO.sample_rate=Math.min(parseFloat(aO.sample_rate),G)}aO.conditionsMet=false;this.configs.push(aO);var aN=parseInt(aL.getSiteId(),10);var aP=t.get(aL,aO.id);if(1===aP&&!v()){aO.sample_rate=G;aO.activity=false;aO.min_time=0}else{if(x()){}else{if(0===aP||!Y(aO.sample_rate)){t.set(aL,aO.id,0);return}}}this.checkConditionsMet();if(aO.min_time){var aM=this;Piwik.DOM.onReady(function(){var aQ=(aO.min_time*1000)-ar.getTimeSincePageReady()+120;if(aQ>=0){setTimeout(function(){aM.checkConditionsMet()},aQ)}else{aM.checkConditionsMet()}})}},checkConditionsMet:function(){var aN;for(var aO=0;aO<this.configs.length;aO++){aN=this.configs[aO];if(aN&&!aN.conditionsMet){var aM=true;
if(aN.min_time&&aN.min_time>=ar.roundTimeToSeconds(ar.getTimeSincePageReady())){aM=false}if(aN.activity&&!al){al=r.getDocumentHeight()<=r.getWindowSize().height}if(aN.activity&&(!P||!al)){aM=false}if(aM){aN.conditionsMet=true;if(C(aN)){if("undefined"===typeof aN.keystrokes||!aN.keystrokes||aN.keystrokes==="0"){aE=false}this.addHsrId(aN.id)}}}}},addHsrId:function(aM){this.hsrids.push(aM);if(aL.HeatmapSessionRecording.hasTrackedData){z.recordData(c,{ty:a,id:aM})}var aN=parseInt(aL.getSiteId(),10);t.set(aL,aM,1)}},addConfig:function(aM){this.hasReceivedConfig=true;if("undefined"===typeof aM||!aM){aI.checkAllConfigsReceived();return}if("object"===typeof aM.heatmap){this.Heatmap.addConfig(aM.heatmap)}var aN;if(aM.heatmaps&&ar.isArray(aM.heatmaps)&&aM.heatmaps.length){for(aN=0;aN<aM.heatmaps.length;aN++){this.Heatmap.addConfig(aM.heatmaps[aN])}}if(ah){if(aM.sessions&&ar.isArray(aM.sessions)&&aM.sessions.length){for(aN=0;aN<aM.sessions.length;aN++){this.Session.addConfig(aM.sessions[aN])}}if("object"===typeof aM.session){this.Session.addConfig(aM.session)
}}aI.checkAllConfigsReceived()}}}var ay=r.getWindowSize();var z={getPiwikTrackers:function(){if(null===n){if("object"===typeof Piwik&&Piwik.getAsyncTrackers){var aL=Piwik.getAsyncTrackers();if(!aL||!aL.length){return[]}return aL}}if(ar.isArray(n)){return n}return[]},sendQueuedData:function(aS,aT){if(!aq||!ac){return}if(!aS||!aS.HeatmapSessionRecording){return}var aP=aS.HeatmapSessionRecording;if(!aP.isEnabled()){return}var aL=[];var aM=[];if(aP.Heatmap.hsrids&&aP.Heatmap.hsrids.length){aL=aP.Heatmap.hsrids;if(aP.Heatmap.data.length){aM=aP.Heatmap.data;aP.Heatmap.data=[]}}var aR=aP.Session.hsrids&&aP.Session.hsrids.length&&aj.initialDOM;if(aR){aL=aL.concat(aP.Session.hsrids);if(aP.Session.data.length){aM=aM.concat(aP.Session.data);aP.Session.data=[];if(!aE){for(var aN=(aM.length-1);aN>=0;aN--){if(aM[aN]&&aM[aN].ty&&aM[aN].ty===e){aM.splice(aN,1)}}}}}if(aL.length&&aP.Both.data.length){aM=aM.concat(aP.Both.data);aP.Both.data=[]}if("undefined"===typeof aT){aT=this.shouldEndRecording(aS)}if(aT&&aP.hasTrackedData&&!aP.hasSentStopTrackingEvent&&aR){aM.push({ty:p});
aP.hasSentStopTrackingEvent=true}if(!aL||!aL.length||!aM||!aM.length){return}if(aS.HeatmapSessionRecording.hsrIdsToGetDOM&&aS.HeatmapSessionRecording.hsrIdsToGetDOM.length){if(!aj.initialDOM&&ah){var aQ=new y(N,{initialize:function(aU,aV){aj.initialDOM=ae.stringify({rootId:aU,children:aV})}});aQ.disconnect()}if(aj.initialDOM&&ah){for(var aO=0;aO<aS.HeatmapSessionRecording.hsrIdsToGetDOM.length;aO++){aM.push({ty:k,dom:aj.initialDOM,id:aS.HeatmapSessionRecording.hsrIdsToGetDOM[aO]})}aS.HeatmapSessionRecording.hsrIdsToGetDOM=[]}}aP.hasTrackedData=true;this.sendQueuedDataRequestNow(aS,aL,aM);if(aT){Piwik.HeatmapSessionRecording.disable()}},shouldEndRecording:function(aN){var aQ=ar.getTimeSincePageReady();if(Z<aQ){return true}if(g<aQ){var aP=aN.HeatmapSessionRecording;var aM=!aP.numSentTrackingRequests||aP.numSentTrackingRequests<=R;var aL=60*1000;var aO=L&&(aQ<(aL+L));if(aM||aO){g=aQ+at}else{return true}}return false},sendQueuedDataRequestNow:function(aT,aM,aU){var aN="";for(var aO=0;aO<aU.length;
aO++){for(var aL in aU[aO]){if(Object.prototype.hasOwnProperty.call(aU[aO],aL)){aN+="&hsr_ev["+aO+"]["+aL+"]="+encodeURIComponent(aU[aO][aL])}}}for(var aQ=0;aQ<aM.length;aQ++){aN+="&hsr_ids[]="+encodeURIComponent(aM[aQ])}var aR="hsr_vid="+ac+aN;var aS=r.getWindowSize();var aV=r.getDocumentHeight();if(!aj.scrollMaxPercentage){var aP=r.getScrollTop();aj.scrollMaxPercentage=parseInt(((aS.height+aP)/aV)*B,10)}aR+="&hsr_vw="+encodeURIComponent(aS.width);aR+="&hsr_vh="+encodeURIComponent(aS.height);aR+="&hsr_ti="+ar.getTimeSincePageReady();aR+="&hsr_smp="+aj.scrollMaxPercentage;aR+="&hsr_fyp="+parseInt((ay.height/aV)*B,10);aT.HeatmapSessionRecording.numSentTrackingRequests++;aT.trackRequest(aR,null,null,"HeatmapSessionRecording");T("track: "+aR)},recordData:function(aL,aM){if(!ai){ak.push({type:aL,data:aM});return}var aN=z.getPiwikTrackers();aN.forEach(function(aO){if(aO.HeatmapSessionRecording&&aO.HeatmapSessionRecording.isEnabled()){if("object"===typeof aM&&"undefined"!==typeof aM.ti&&aM.ti&&(!L||aM.ti>L)&&aM.ty&&aM.ty!==af){L=aM.ti
}if(aA===aL){aO.HeatmapSessionRecording.Both.data.push(aM)}else{if(ad===aL){aO.HeatmapSessionRecording.Heatmap.data.push(aM)}else{if(c===aL){aO.HeatmapSessionRecording.Session.data.push(aM)}}}}});if(l){T("recorddata",ae.stringify(aM))}},stopSendingData:function(){var aL=z.getPiwikTrackers();aL.forEach(function(aM){if(aM.HeatmapSessionRecording){var aN=aM.HeatmapSessionRecording;if("undefined"!==typeof aN.trackingInterval){clearInterval(aN.trackingInterval);delete aN.trackingInterval}}})},startSendingData:function(){var aL=z.getPiwikTrackers();aL.forEach(function(aM){if(aM.HeatmapSessionRecording&&"undefined"===typeof aM.HeatmapSessionRecording.trackingInterval){var aN=ar.getRandomInt(1250,1450);aM.HeatmapSessionRecording.trackingInterval=setInterval(function(){z.sendQueuedData(aM)},aN);z.sendQueuedData(aM)}})}};function aB(){if(typeof window==="object"&&"function"===typeof H.piwikHeatmapSessionRecordingAsyncInit){H.piwikHeatmapSessionRecordingAsyncInit()}var aM=ak;ak=[];ai=true;for(var aL=0;
aL<aM.length;aL++){z.recordData(aM[aL].type,aM[aL].data)}Piwik.DOM.onLoad(function(){aq=true;if(K){var aN=z.getPiwikTrackers();if(aN&&aN.length){Piwik.HeatmapSessionRecording.enable()}}})}var aj={moveEvents:["mousemove","touchmove"],clickEvents:["mousedown"],scrollEvents:["scroll","resize"],lastScroll:null,lastElementScroll:null,lastMove:null,lastResize:null,scrollMaxPercentage:0,lastResizeInterval:null,lastScrollInterval:null,lastMoveInterval:null,isRecording:false,isRecordingMutations:false,startRecording:function(){if(!K||this.isRecording){return}this.isRecording=true;this.lastScrollInterval=setInterval(function(){if(aj.lastScroll){var aL=aj.lastScroll;aj.lastScroll=null;var aM={ti:aL.time,ty:h,x:aL.scrollX,y:aL.scrollY};z.recordData(c,aM)}if(aj.lastElementScroll){var aL=aj.lastElementScroll;aj.lastElementScroll=null;var aM={ti:aL.time,ty:av,s:aL.selector,x:aL.scrollX,y:aL.scrollY};z.recordData(c,aM)}},200);this.lastResizeInterval=setInterval(function(){if(aj.lastResize){var aL=aj.lastResize;
aj.lastResize=null;var aM={ti:aL.ti,ty:U,x:aL.width,y:aL.height};z.recordData(c,aM)}},200);this.lastMoveInterval=setInterval(function(){if(aj.lastMove){var aL=aj.lastMove;aj.lastMove=null;var aM={ti:aL.time,ty:s,s:aL.selector,x:aL.offsetx,y:aL.offsety};z.recordData(aA,aM)}},200);this.scrollEvents.forEach(function(aL){H.addEventListener(aL,aj.onScroll,true)});this.clickEvents.forEach(function(aL){H.addEventListener(aL,aj.onClick,true)});this.moveEvents.forEach(function(aL){H.addEventListener(aL,aj.onMove,true)})},mirror:null,initialDOM:null,startRecordingMutations:function(){if(!K||!ah||this.isRecordingMutations){return}this.isRecordingMutations=true;H.addEventListener("resize",aj.onResize,true);H.addEventListener("change",aj.onFormChange,true);try{this.mirror=new y(document,{initialize:function(aM,aN){var aO={ty:aG,ti:0,te:ae.stringify({rootId:aM,children:aN})};if(!aj.initialDOM){aj.initialDOM=aO.te}z.recordData(c,aO)},applyChanged:function(aP,aN,aM,aQ){if(aP.length||aN.length||aM.length||aQ.length){var aO={ti:ar.getTimeSincePageReady(),ty:af,te:{}};
if(aP.length){aO.te.rem=aP}if(aN.length){aO.te.adOrMo=aN}if(aM.length){aO.te.att=aM}if(aQ.length){aO.te.text=aQ}aO.te=ae.stringify(aO.te);z.recordData(c,aO)}}})}catch(aL){T(aL)}},onResize:function(){var aL=r.getWindowSize();aj.lastResize={ti:ar.getTimeSincePageReady(),width:aL.width,height:aL.height}},onFormChange:function(aT){if(!("target" in aT)||!aT.target){return}var aO=aT.target;var aM=aJ.getTagName(aO);if(!aM){return}var aN=ar.getTimeSincePageReady();var aL=ap;var aP=false;if(aM==="input"){var aS=aJ.getAttribute(aO,"type");if(String(aS).toLowerCase()==="radio"||String(aS).toLowerCase()==="checkbox"){aP=true}else{aL=e}}else{if(aM==="textarea"){aL=e}else{if(aM!=="select"){return}}}if(!aE&&aL===e){return}var aQ=aJ.getSelector(aO);var aU="";if(aP){aU=aO.checked?"1":"0"}else{if(aL===e&&"undefined"!==typeof aO.value){aU=String(aO.value);if(aU>X){aU=aU.substr(0,X)}if(aJ.shouldMaskField(aO,true)){aU=aU.replace(/./g,"*")}}else{if(aL===ap&&"undefined"!==typeof aO.value){aU=String(aO.value)}}}var aR={ti:aN,ty:aL,s:aQ,te:aU};
if(aQ){z.recordData(c,aR)}else{T("No selector found for text input ",aT)}},onScroll:function(aL){if(!al){al=true;aj.checkTrackersIfConditionsMet()}if(aL&&aL.type&&aL.type==="scroll"&&aL.target&&aL.target!==N){var aV=aL.target;if("undefined"===typeof aV.scrollTop){return}var aN=aV.scrollTop;var aQ=aV.scrollLeft;var aO=aJ.getWidth(aV);var aM=aJ.getHeight(aV);if(aO<=0||aM<=0||!aO||!aM){return}var aR=aJ.getSelector(aV);aj.lastElementScroll={time:aP,selector:aR,scrollY:parseInt((B*aN)/aM,10),scrollX:parseInt((B*aQ)/aO,10)};return}var aP=ar.getTimeSincePageReady();var aT=parseInt(r.getScrollTop(),10);var aS=parseInt(r.getScrollLeft(),10);var aX=r.getDocumentHeight();var aU=r.getDocumentWidth();aj.lastScroll={time:aP,scrollY:parseInt((B*aT)/aX,10),scrollX:parseInt((B*aS)/aU,10)};var aW=parseInt((B*(aT+r.getWindowSize().height))/aX,10);if(aW>aj.scrollMaxPercentage){aj.scrollMaxPercentage=aW}},checkTrackersIfConditionsMet:function(){var aM=z.getPiwikTrackers();for(var aL=0;aL<aM.length;aL++){if(aM[aL]&&aM[aL].HeatmapSessionRecording&&aM[aL].HeatmapSessionRecording.Session){aM[aL].HeatmapSessionRecording.Session.checkConditionsMet()
}}},onClick:function(aQ){T("click");if(!P){P=true;aj.checkTrackersIfConditionsMet()}if(!("target" in aQ)||!("pageY" in aQ)||!("pageX" in aQ)||!aQ.target){return}var aP=ar.getTimeSincePageReady();aj.lastMove=null;var aR=aJ.getOffset(aQ.target);var aN=parseInt(((aQ.pageX-aR.left)/aR.width)*ax,10);var aM=parseInt(((aQ.pageY-aR.top)/aR.height)*ax,10);var aL=aJ.getSelector(aQ.target);if(aN%2===1){aN++}if(aM%2===1){aM++}var aO={ti:aP,ty:aF,s:aL,x:aN,y:aM};if(aL){z.recordData(aA,aO)}else{T("No selector found for click ",aQ)}},onMove:function(aS){if(!("clientY" in aS)||!("clientX" in aS)||!("pageX" in aS)||!("pageY" in aS)){return}var aU=aS.clientX;var aT=aS.clientY;var aO=N.elementFromPoint(aU,aT);if(aO){var aN=ar.getTimeSincePageReady();var aQ=aJ.getOffset(aO);var aM=parseInt(((aS.pageX-aQ.left)/aQ.width)*ax,10);var aL=parseInt(((aS.pageY-aQ.top)/aQ.height)*ax,10);if(aM%2===1){aM++}if(aL%2===1){aL++}var aP=aJ.getSelector(aO);if(aP){if(!F){F=true;var aR={ti:0,ty:s,s:aP,x:aM,y:aL};z.recordData(aA,aR)
}else{aj.lastMove={selector:aP,offsetx:aM,offsety:aL,time:aN}}}else{T("No selector found for click ",aS)}}},stopRecording:function(){this.isRecording=false;if(this.lastResizeInterval!==null){clearInterval(this.lastResizeInterval);this.lastResizeInterval=null}if(this.lastScrollInterval!==null){clearInterval(this.lastScrollInterval);this.lastScrollInterval=null}if(this.lastMoveInterval!==null){clearInterval(this.lastMoveInterval);this.lastMoveInterval=null}this.scrollMaxPercentage=0;this.lastScroll=null;this.lastElementScroll=null;this.lastMove=null;this.lastResize=null;this.scrollEvents.forEach(function(aL){H.removeEventListener(aL,aj.onScroll,true)});this.moveEvents.forEach(function(aL){H.removeEventListener(aL,aj.onMove,true)});this.clickEvents.forEach(function(aL){H.removeEventListener(aL,aj.onClick,true)})},stopRecordingMutations:function(){this.isRecordingMutations=false;H.removeEventListener("resize",aj.onResize,true);H.removeEventListener("change",aj.onFormChange,true);this.initialDOM=null;
if(this.mirror){this.mirror.disconnect();this.mirror=null}}};var aI={fetch:function(){var aU=0;var aP=z.getPiwikTrackers();if(!aP||!aP.length){return}for(var aO=0;aO<aP.length;aO++){var aT=aP[aO];if(aT&&aT.HeatmapSessionRecording&&!aT.HeatmapSessionRecording.hasReceivedConfig&&aT.HeatmapSessionRecording.isEnabled()){var aS=aT.getPiwikUrl();var aQ=aT.getSiteId();if(!aS||!aQ){T("cannot find piwik url for tracker or site, disabling heatmap & session recording");aT.HeatmapSessionRecording.disable();aT.HeatmapSessionRecording.hasReceivedConfig=true;continue}if(aS.substr(-1,1)!=="/"){aS+="/"}aU++;var aL;if(S){aL=aT.getCurrentUrl()}else{aL=H.location.href;try{aL=decodeURIComponent(aL)}catch(aR){aL=unescape(aL)}}aS+="plugins/HeatmapSessionRecording/configs.php?idsite="+encodeURIComponent(aQ)+"&trackerid="+aT.HeatmapSessionRecording.myId+"&url="+encodeURIComponent(aL);var aM=t.getHsrConfigs(aT);for(var aN=0;aN<aM.length;aN++){aS+="&hsr"+encodeURIComponent(aM[aN].id)+"="+encodeURIComponent(aM[aN].value)
}(function(aW){var aV=N.createElement("script");aV.src=aS;aV.async=true;aV.defer=true;aV.onerror=function(){aW.HeatmapSessionRecording.disable();aW.HeatmapSessionRecording.hasReceivedConfig=true;aI.checkAllConfigsReceived()};setTimeout(function(){var aY=N.getElementsByTagName("head");if(aY&&aY.length&&aY[0]){aY[0].appendChild(aV)}else{var aX=N.getElementsByTagName("body");if(aX&&aX.length&&aX[0]){aX[0].appendChild(aV)}}},10)})(aT)}}if(aU===0){this.checkAllConfigsReceived()}},assign:function(aL){var aO=z.getPiwikTrackers();for(var aM=0;aM<aO.length;aM++){var aN=aO[aM];if(aN&&aN.HeatmapSessionRecording){if(aN.getSiteId()==aL.idsite&&aN.HeatmapSessionRecording.myId===aL.trackerid){aN.HeatmapSessionRecording.addConfig(aL);break}}}this.checkAllConfigsReceived()},checkAllConfigsReceived:function(){var aP=z.getPiwikTrackers();var aO=false;var aL=false;var aN;for(var aM=0;aM<aP.length;aM++){if(aP[aM].HeatmapSessionRecording){aN=aP[aM].HeatmapSessionRecording;if(!aN.hasReceivedConfig){return}if(aN.Heatmap.configs&&aN.Heatmap.configs.length){aO=true
}if(aN.Session.configs&&aN.Session.configs.length){aL=true}}}if(!aO&&!aL){Piwik.HeatmapSessionRecording.disable()}else{if(!aL){Piwik.DOM.onLoad(function(){aj.stopRecordingMutations()})}}}};function ag(){if("object"===typeof window&&"object"===typeof H.Piwik&&"object"===typeof H.Piwik.HeatmapSessionRecording){return}if("object"===typeof window&&!H.Piwik){return}ae=Piwik.JSON;Piwik.HeatmapSessionRecording={utils:ar,element:aJ,storage:t,dom:r,tracking:z,recording:aj,RECORD_TYPE_BOTH:aA,RECORD_TYPE_HEATMAP:ad,RECORD_TYPE_SESSION:c,configuration:aI,getIdView:function(){return ac},disableAutoDetectNewPageView:function(){aK=false},enableAutoDetectNewPageView:function(){aK=true},isAutoDetectingNewPageViews:function(){return aK},matchTrackerUrl:function(){return S=true},setTrigger:function(aM){if(typeof aM==="function"){C=aM}else{throw Error("trigger needs to be a method")}},setNewPageView:function(aN){if(u()){return}T("new pageview");var aM=this.isEnabled();if(aM){this.disable()}ac=ar.generateUniqueId();
E=new Date().getTime();ak=[];P=false;al=false;var aO=z.getPiwikTrackers();aO.forEach(function(aQ){var aP=true;if("undefined"!==typeof aQ.HeatmapSessionRecording){aP=aQ.HeatmapSessionRecording.enabled;delete aQ.HeatmapSessionRecording}q(aQ);if(!aP){aQ.HeatmapSessionRecording.disable()}});if(aM){this.enable();if("undefined"===typeof aN||aN===true){aI.fetch()}else{if("object"===typeof aN){aO.forEach(function(aP){aP.HeatmapSessionRecording.addConfig(aN)})}else{T("manual tracker config required")}}}},disable:function(){if(u()){return}K=false;aj.stopRecording();aj.stopRecordingMutations();z.stopSendingData()},enable:function(){if(u()){return}K=true;aj.startRecording();aj.startRecordingMutations();z.startSendingData()},isEnabled:function(){return K},setMaxCaptureTime:function(aM){g=parseInt(aM,10)*1000;if(g>Z){g=Z}},setMaxTextInputLength:function(aM){X=aM},disableCaptureKeystrokes:function(){aE=false},enableCaptureKeystrokes:function(){aE=true},setPiwikTrackers:function(aM){if(aM===null){n=null;
return}if(!ar.isArray(aM)){aM=[aM]}n=aM;n.forEach(q)},enableDebugMode:function(){l=true}};Piwik.DOM.onReady(function(){E=new Date().getTime()});Piwik.addPlugin("HeatmapSessionRecording",{log:function(aM){if(aK){if(aM.tracker&&aM.tracker.getNumTrackedPageViews&&aM.tracker.getNumTrackedPageViews()>1){setTimeout(function(){Piwik.HeatmapSessionRecording.setNewPageView(true)},10)}}return""},unload:function(){if(!u()){var aM=z.getPiwikTrackers();z.stopSendingData();aM.forEach(function(aO){var aN=true;z.sendQueuedData(aO,aN)})}}});if(H.Piwik.initialized){var aL=Piwik.getAsyncTrackers();aL.forEach(q);Piwik.on("TrackerSetup",q);Piwik.retryMissedPluginCalls();aB();aI.fetch()}else{Piwik.on("TrackerSetup",q);Piwik.on("PiwikInitialized",function(){aB();aI.fetch()})}}ac=ar.generateUniqueId();if("object"===typeof H.Piwik){ag()}else{if("object"!==typeof H.piwikPluginAsyncInit){H.piwikPluginAsyncInit=[]}H.piwikPluginAsyncInit.push(ag)}})();
